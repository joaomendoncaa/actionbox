import { useEffect, useState } from "react";
import { useRouter } from "next/router";
import Link from "next/link";

import { Container, MenuButton } from "./styles";

export default function MenuBar() {
  const router = useRouter();
  const [currentEndpoint, setCurrentEndpoint] = useState(null);

  useEffect(() => {
    setCurrentEndpoint(router.pathname);
  }, []);

  return (
    <Container>
      <Link href="/">
        <MenuButton isSelected={currentEndpoint === "/" ? true : false}>
          <svg
            width={22}
            height={23}
            viewBox="0 0 22 23"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path d="M9.23083 0.64345C9.72632 0.227848 10.3528 0 11 0C11.6472 0 12.2737 0.227848 12.7692 0.64345L21.0192 7.568C21.3263 7.82557 21.5732 8.14709 21.7426 8.50999C21.9121 8.8729 21.9999 9.26841 22 9.66878V21.17C22 21.6554 21.8068 22.1208 21.463 22.464C21.1192 22.8072 20.6529 23 20.1667 23H15.125C14.6388 23 14.1725 22.8072 13.8286 22.464C13.4848 22.1208 13.2917 21.6554 13.2917 21.17V14.7652H8.70833V21.17C8.70833 21.6554 8.51518 22.1208 8.17136 22.464C7.82755 22.8072 7.36123 23 6.875 23H1.83333C1.3471 23 0.880788 22.8072 0.536971 22.464C0.193154 22.1208 0 21.6554 0 21.17V9.66787C0.000101438 9.26749 0.0879503 8.87198 0.257386 8.50908C0.426822 8.14617 0.673743 7.82466 0.980834 7.56708L9.23083 0.64345ZM11.5903 2.04336C11.4251 1.90451 11.216 1.82837 11 1.82837C10.784 1.82837 10.5749 1.90451 10.4097 2.04336L2.15967 8.96974C2.05769 9.05543 1.97566 9.16228 1.9193 9.28285C1.86294 9.40343 1.8336 9.53482 1.83333 9.66787V21.1691H6.875V14.7643C6.875 14.279 7.06815 13.8135 7.41197 13.4703C7.75579 13.1271 8.2221 12.9343 8.70833 12.9343H13.2917C13.7779 12.9343 14.2442 13.1271 14.588 13.4703C14.9318 13.8135 15.125 14.279 15.125 14.7643V21.1691H20.1667V9.66787C20.1667 9.53451 20.1375 9.40276 20.0811 9.28185C20.0247 9.16094 19.9425 9.05379 19.8403 8.96791L11.5903 2.04336Z" />
          </svg>
        </MenuButton>
      </Link>
      <Link href="/leaderboard">
        <MenuButton
          isSelected={currentEndpoint === "/leaderboard" ? true : false}
        >
          <svg
            width={22}
            height={24}
            viewBox="0 0 22 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M14.4 7.76025C14.4 6.12535 15.5179 4.8 16.897 4.8H19.1031C20.4821 4.8 21.6 6.12535 21.6 7.76025V21.0398C21.6 22.6747 20.4821 24 19.1031 24H16.897C15.5179 24 14.4 22.6747 14.4 21.0398V7.76025ZM16.897 6.7735C16.4373 6.7735 16.0646 7.21528 16.0646 7.76025V21.0398C16.0646 21.5847 16.4373 22.0265 16.897 22.0265H19.1031C19.5628 22.0265 19.9354 21.5847 19.9354 21.0398V7.76025C19.9354 7.21528 19.5628 6.7735 19.1031 6.7735H16.897Z"
            />
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M7.19995 2.94529C7.19995 1.31865 8.31787 0 9.69689 0H11.903C13.282 0 14.4 1.31865 14.4 2.94529V21.0547C14.4 22.6814 13.282 24 11.903 24H9.69689C8.31787 24 7.19995 22.6813 7.19995 21.0547V2.94529ZM9.69689 1.96353C9.23721 1.96353 8.86458 2.40308 8.86458 2.94529V21.0547C8.86458 21.5969 9.23721 22.0365 9.69689 22.0365H11.903C12.3627 22.0365 12.7353 21.5969 12.7353 21.0547V2.94529C12.7353 2.40308 12.3627 1.96353 11.903 1.96353H9.69689Z"
            />
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M0 16.1072C0 14.5016 1.11792 13.2 2.49694 13.2H4.70306C6.08208 13.2 7.2 14.5016 7.2 16.1072V21.0928C7.2 22.6984 6.08208 24 4.70306 24H2.49694C1.11792 24 0 22.6984 0 21.0928V16.1072ZM2.49694 15.1382C2.03726 15.1382 1.66462 15.572 1.66462 16.1072V21.0928C1.66462 21.628 2.03726 22.0618 2.49694 22.0618H4.70306C5.16274 22.0618 5.53538 21.628 5.53538 21.0928V16.1072C5.53538 15.572 5.16274 15.1382 4.70306 15.1382H2.49694Z"
            />
          </svg>
        </MenuButton>
      </Link>
    </Container>
  );
}
